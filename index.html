<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    
    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
    <script type="module" src="js/app.js"></script>
</head>
<body>

    <div id="login-screen" class="login-container">
        <div class="login-box">
            <h2>Bienvenue</h2>
            <input type="text" id="username" name="username" placeholder="Utilisateur" autocomplete="username">
            <input type="password" id="password" name="password" placeholder="Mot de passe" autocomplete="current-password">
            
            <div class="auth-buttons">
                <button type="button">Se connecter</button>
                <button type="button" class="secondary-btn">S'inscrire</button>
            </div>
            <p id="auth-error" style="color: #ff6b6b; margin-top: 10px;"></p>
        </div>
    </div>

    <div id="dashboard-screen" style="display: none;">
        
        <header>
            <button id="burger-btn" class="burger-icon">☰</button>
            <div id="clock" class="clock-floating">00:00</div>
        </header>
        
        <nav id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h3>Menu</h3>
                <button id="close-sidebar-btn" class="close-btn">&times;</button>
            </div>
            <div class="sidebar-content">
                <button id="open-settings-btn" class="menu-item">⚙️ Paramètres</button>
                <button id="logout-btn" class="menu-item danger">Déconnexion</button>
            </div>
        </nav>
        
        

        <main class="dashboard-container">
            <section class="widget weather-widget">
                <h2>Météo</h2>
                <div id="weather-display">Chargement...</div>
            </section>

            <section class="widget todo-widget">
                <h2>À faire</h2>
                <ul id="task-list"></ul>
                
                <div class="input-group">
                    <input type="text" id="task-input" placeholder="Nouvelle tâche..." style="flex-grow: 1;">
                    
                    <select id="task-category-select">
                        <option value="Général">Général</option>
                    </select>

                    <input type="date" id="task-date-input">

                    <button id="add-task-btn">Ajouter</button>
                </div>
            </section>
        </main>
    </div>

    <div id="settings-modal" class="modal-overlay" style="display: none;">
        <div class="modal-box">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                <h3 style="margin:0;">⚙️ Gérer les Tags</h3>
                <button id="close-settings-btn" style="background:none; border:none; font-size:1.5rem; cursor:pointer; color:white;">&times;</button>
            </div>
            
            <div id="settings-tags-list" style="margin-bottom: 20px; max-height: 200px; overflow-y: auto;"></div>
            
            <div class="add-tag-form" style="display:flex; gap:10px; border-top:1px solid #444; padding-top:15px;">
                <input type="text" id="new-tag-name" placeholder="Nom (ex: Sport)" style="flex:1;">
                <input type="color" id="new-tag-color" value="#ff0000" style="width: 40px; padding:0; border:none; height:40px; cursor:pointer;">
                <button id="add-tag-btn" style="width:40px;">+</button>
            </div>
        </div>
    </div>

</body>
</html>